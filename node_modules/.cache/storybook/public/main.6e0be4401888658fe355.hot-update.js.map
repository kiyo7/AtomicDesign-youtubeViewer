{"version":3,"file":"main.6e0be4401888658fe355.hot-update.js","sources":["webpack:///./src/components/templates/VideosListTemplate/index.jsx","webpack:///./src/components/templates/VideosListTemplate/index.stories.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\n\nconst Root = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n\nconst HeaderWrapper = styled.div`\n  max-width: 720px;\n  margin: auto;\n  border-bottom: 1px solid #ccc;\n`;\n\nconst SearchFormWrapper = styled.div`\n  max-width: 720px;\n  margin: auto;\n`;\n\nconst VideosListWrapper = styled.div`\n  max-width: 720px;\n  margin: auto;\n`;\n\nconst VideosListTemplate = ({\n  headerContents,\n  searchFormContents,\n  videosListContents,\n  onScrollEnd,\n}) => {\n  useEffect(() => {\n    if (!onScrollEnd) {\n      return;\n    }\n    // スクロール時のイベントハンドラ\n    const scrollHandler = ({ target: { scrollingElement } }) => {\n      // 一番下までスクロールされたかどうか判定し、一番下までスクロールされたらonScrollEndを呼び出す\n      const { scrollTop, scrollHeight, clientHeight } = scrollingElement;\n      if (scrollTop < scrollHeight - clientHeight) {\n        return;\n      }\n      onScrollEnd();\n    };\n    window.document.addEventListener(\"scroll\", scrollHandler);\n    return () => {\n      // コンポーネントのアンマウント時に設定したイベントハンドラを削除する\n      window.document.removeEventListener(\"scroll\", scrollHandler);\n    };\n  }, [onScrollEnd]);\n  return (\n    <Root>\n      <HeaderWrapper>{headerContents}</HeaderWrapper>\n      <SearchFormWrapper>{searchFormContents}</SearchFormWrapper>\n      <VideosListWrapper>{videosListContents}</VideosListWrapper>\n    </Root>\n  );\n};\n\nVideosListTemplate.propTypes = {\n  headerContents: PropTypes.node,\n  searchFormContents: PropTypes.node,\n  videosListContents: PropTypes.node.isRequired,\n  onScrollEnd: PropTypes.func,\n};\n\nVideosListTemplate.defaultProps = {\n  headerContents: null,\n  searchFormContents: null,\n  onScrollEnd: null,\n};\n\nexport default VideosListTemplate;\n","import React from \"react\";\nimport { actions } from \"@storybook/addon-actions\";\nimport styled, { css } from \"styled-components\";\nimport VideosListTemplate from \".\";\n\nexport default { title: \"templates/VideosListTemplate\" };\n\nconst commonStyle = css`\n  background: #f0f0f0;\n  text-align: center;\n`;\n\nconst Header = styled.div`\n  width: 100%;\n  height: 33px;\n  ${commonStyle};\n`;\n\nconst SearchForm = styled.div`\n  width: 100%;\n  height: 47px;\n  ${commonStyle};\n`;\n\nconst VideosList = styled.div`\n  width: 100%;\n  height: 1000px;\n  ${commonStyle};\n`;\n\nexport const Default = () => (\n  <VideosListTemplate\n    headerContents={<Header>header</Header>}\n    searchFormContents={<SearchForm>searchForm</SearchForm>}\n    videosListContents={<VideosList>videosList</VideosList>}\n    {...actions(\"onSrollEnd\")}\n  />\n);\n"],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AACA;AAIA;AAKA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAHA;AAMA;AACA;AAjCA;AAkCA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAHA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzEA;AACA;AACA;AACA;;AAEA;AAAA;AAAA;AAEA;AAKA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAMA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAHA;AADA;AAAA;;;;;;;;;;;;;;;;;A","sourceRoot":""}